# MB-02 — Рабочие принципы

- **Минимальные партии.** Одно логическое действие → один коммит, не более ~150 файлов. При перекодировке — одна поддиректория за итерацию.
- **Двойная проверка.** Каждый шаг подтверждаю автоматическим скриптом + выборочной ручной проверкой (минимум 3 страницы).
- **Всегда готов к откату.** После завершения подпункта проверяю `git status`, коммит, обновляю журнал в `DOROZHNAYA_KARTA.md`.
- **Дифф под контролем.** Перед коммитом смотрю `git diff --stat` и объём (если >1.5 МБ — делю партию).
- **Документация.** Любые уточнения записываю в дорожной карте и здесь, чтобы после обрыва контекста легко восстановиться.
- **Протокол.** Всегда начинаю с команды «Протокол, шаг <код этапа>», чтобы последовательно пройти Memory → Roadmap → Instruction и не забыть ни один документ.
- **Артефакты вне git.** Baseline, логи и слепки складываем в `snapshot/` и `logs/` (эти каталоги в `.gitignore`), чтобы не появлялись тяжёлые диффы.
- **Каждая сессия начинается с Протокола.** Перед работой даю команду «Протокол, шаг <код этапа>», чтобы заново открыть дорожную карту, инструкцию и нужные памятки — этого достаточно даже после зависания браузера.

### Ветка и PR
- Рабочая ветка всегда `work`.
- Перед началом: `git fetch origin && (git checkout work || git checkout -B work origin/main) && git pull --ff-only`.
- После шага: PR `work → main` → Squash and merge → авто-удаление ветки.
- В конфликтах по DOROZHNAYA_KARTA.md, INSTRUKTSIYA_VYPOLNENIYA.md, MB-06, tools/check_utf8.py — берём версию из `work`.
